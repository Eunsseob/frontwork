<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <title>기타 메소드</title>
    <style>
        .highlight-0{background: red;}
        .highlight-1{background: orange;}
        .highlight-2{background: yellow;}
        .highlight-3{background: green;}
        .highlight-4{background: blue;}
    </style>
</head>
<body>
    <h3>** each() 메소드</h3>
    <p>
        배열의 모든 인덱스에 순차적으로 접근하고자 할 때 <br>
        객체가 가지고 있는 모든 속성에 순차적으로 접근하고자 할 때 <br>
        사용하는 for in문과 유사하게 수행되는 메소드
    </p>

    <pre>
    1) $.each(객체|배열, function([매개변수,..])){
        순차적으로 접근할 때마다 실행할 내용;
      })

    2) 객체|배열.each(function([매개변수,..]){
        순차적으로 접근할 때마다 실행할 내용;
    })

    >   객체가 들어왔다면
        첫번째 매개변수에는 순차적으로 접근할 때마다의 객체의 속성명(키)이 담김
        두번째 매개변수에는 해당 속성값이 담김

    >   배열이 들어왔다면
        첫번째 매개변수에는 순차적으로 접근할 때마다의 인덱스번호가 담김
        두번째 매개변수에는 해당 값이 담김 
    </pre>

    <script>
        $(()=>{
            const arr = ['가',' 나', '다', '라', '마'];
        })

        
        const student = {
            name : '한상진',
            age : 25,
            address : '서울'
        }

        // 1) for in
        for(let key in student){
            console.log(`속성명 : ${key}, value : ${student[key]}`);
        }

        // 2) each(배열, 함수)
        $.each(student, function(key, value){
            console.log(`속성명 : ${key}, value : ${value}`);
        })

        // 3) 배열.each(함수)
        $(student).each(function(key, value){
            console.log(`속성명 : ${key}, value : ${value}`);
        })

        console.log('================================');

    </script>

    <button id="btn1">학생 조회</button>

    <table id="area1" border="1">
        <thead>
        <tr>
            <th>이름</th>
            <th>나이</th>
            <th>주소</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        $('#btn1').click(() => {
            const students = [{name : '더조은', age : 20, address : '서울'}, 
                                {name : '한미은', age : 22, address : '경기'}, 
                                {name : '나닝은', age : 32, address : '광주'}];

        let result = '';

        $.each(students, (i, obj) => {
            result += `<tr>
                            <td>${obj.name}</td>
                            <td>${obj.age}</td>
                            <td>${obj.address}</td>
                        </tr>`;
        })
        $('#area1 tbody').html(result);
    })
    </script>

    <br><br><br><br><br><br>

    <div id="area2">
        <h1>item-1</h1>
        <h1>item-2</h1>
        <h1>item-3</h1>
        <h1>item-4</h1>
        <h1>item-5</h1>
    </div>

    <script>
        $(() => {
            $('#area2').children().each((i, el)=> {
                console.log(el);

                // el.addClass('highlight-'+i); // 안됨

                el.className = 'highlight-' + i;

                // javascript => jQuery 변환한 후 jQuery메소드 이용
                $(this).addClass('highlight-' + i);
            })
        })
    </script>

    <hr>

    <h3>
        * is 메소드
    </h3>

    <p>
        $('선택자').is('선택자')<br>
        선택된 요소가 내가 전달한 값과 일치하는지 판단하여 그에 해당하는 논리값 반환(true|false)
    </p>

    <h4 class="test">test1</h4>
    <h4>test2</h4>
    <h4 class="test">test3</h4>
    <h4 class="test">test4</h4>
    <h4>test5</h4>
    <h4 class="test">test6</h4>

    <script>
        $(() => {
            // 이문서에서 모든 h4요소에 순차적으로 접근하여 test클래스가 존재하면 배경색 변경
            $('h4').each(function() {
                if($(this).is('.test')){
                    $(this).css('backgroundColor','black');
                }
            })
        })
    </script>
</body>
</html>